# Claude Plugin Skill Documentation Updates

## ADDED Requirements

None - this spec only modifies existing skill documentation.

## MODIFIED Requirements

### Requirement: Skill Documentation
The plugin **MUST** update skill documentation to recommend semantic search as the primary tool discovery method.

#### Scenario: Search-first workflow recommended
**WHEN** LLM loads toolscript skill documentation
**THEN** skill file at `plugins/toolscript/skills/toolscript/SKILL.md` recommends search as primary discovery method
**AND** lists list-servers/list-tools as fallback options

#### Scenario: Search command examples
**WHEN** skill documentation shows usage examples
**THEN** examples demonstrate `toolscript search "<query>" --output types` workflow
**AND** show both table output (for browsing) and types output (for LLM workflow)

#### Scenario: Types output example with confidence
**WHEN** skill documentation shows types output format
**THEN** example displays confidence table in Markdown preamble
**AND** shows complete TypeScript module matching get-types format
**AND** confidence scores visible in table, NOT in code JSDoc comments

#### Scenario: Updated recommended workflow
**WHEN** skill documentation describes recommended workflow
**THEN** workflow is:
  1. Search for tools using natural language (`toolscript search "<query>" --output types`)
  2. Use returned TypeScript types directly in toolscript code
  3. Execute toolscript with inline code
**AND** fallback workflow documented: If search unavailable, use `list-servers` then `list-tools <server>` then `get-types`

#### Scenario: Search types output format
**WHEN** skill documentation shows search with `--output types` example
**THEN** output shows format:
```markdown
## Search Results

| Tool | Confidence | Reason |
|------|-----------|--------|
| desktop-commander__read_file | 0.92 | Semantic similarity (file operations) |
| filesystem__read | 0.85 | Fuzzy match + domain boost |

\`\`\`typescript
// Auto-generated TypeScript client for MCP tools
// DO NOT EDIT - generated by toolscript gateway

export interface DesktopCommanderReadFileParams {
  path: string;
}

export interface DesktopCommanderReadFileResult {
  content: string;
}

export const tools = {
  desktopCommander: {
    /**
     * Read file contents from disk
     */
    async read_file(params: DesktopCommanderReadFileParams): Promise<DesktopCommanderReadFileResult> {
      const url = Deno.env.get("TOOLSCRIPT_GATEWAY_URL");
      if (!url) throw new Error("TOOLSCRIPT_GATEWAY_URL not set");
      const response = await fetch(\`\${url}/tools/desktop-commander__read_file\`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(params),
      });
      if (!response.ok) {
        throw new Error(\`Tool call failed: \${response.statusText}\`);
      }
      return await response.json();
    }
  }
};
\`\`\`

Usage example:
\`\`\`typescript
import { tools } from "toolscript";

// Call tools using the generated client
const result = await tools.desktopCommander.read_file({ path: "file.txt" });
\`\`\`
```

#### Scenario: Fallback workflow documented
**WHEN** search returns no results or search is unavailable
**THEN** skill documentation instructs LLM to use traditional list-based discovery
**AND** explains when listing is appropriate (browsing all tools, debugging, search unavailable)

## REMOVED Requirements

None - this change only enhances existing skill documentation.
